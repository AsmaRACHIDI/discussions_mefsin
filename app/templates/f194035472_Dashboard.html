<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <!-- Inclure les CDN de Plotly.js et de d3.js -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.1.1/d3.min.js"></script>
</head>
<body>
    <div id="treemap"></div>

    <script>
        // Code JavaScript pour lire le fichier CSV et afficher la treemap
        d3.csv("votre_fichier.csv").then(function(data) {
            // Formater les données pour Plotly.js
            var formattedData = formatDataForTreemap(data);

            // Créer la treemap
            var layout = {
                margin: { t: 0, l: 0, r: 0, b: 0 }
            };
            Plotly.newPlot('treemap', formattedData, layout);
        });

        // Fonction pour formater les données pour Plotly.js
        function formatDataForTreemap(data) {
            var groups = {};
            data.forEach(function(d) {
                var group = d['Groupe'];
                var subgroup = d['Sous-groupe'];
                var value = parseFloat(d['Valeur']);
                if (!groups[group]) {
                    groups[group] = {
                        type: 'treemap',
                        labels: [subgroup],
                        parents: [''],
                        values: [value],
                        textinfo: 'label+value'
                    };
                } else {
                    groups[group].labels.push(subgroup);
                    groups[group].parents.push(group);
                    groups[group].values.push(value);
                }
            });
            return Object.values(groups);
        }
    </script>
</body>
</html>